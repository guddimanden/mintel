<?php
// Enable all error reporting
error_reporting(E_ALL);
ini_set('display_errors', 1);

echo "<h1>PHP is Working!</h1>";
echo "<p>If you see this, PHP is processing correctly.</p>";

// Test database connection
require_once 'includes/config.php';

echo "<h2>Database Test</h2>";
if ($conn->connect_error) {
    echo "<p style='color:red'>Database connection failed: " . $conn->connect_error . "</p>";
} else {
    echo "<p style='color:green'>Database connected successfully!</p>";
    
    // Test query
    $result = $conn->query("SELECT * FROM posts LIMIT 1");
    if ($result) {
        echo "<p>Found " . $result->num_rows . " posts in database.</p>";
        if ($result->num_rows > 0) {
            $post = $result->fetch_assoc();
            echo "<pre>" . print_r($post, true) . "</pre>";
        }
    } else {
        echo "<p style='color:red'>Query failed: " . $conn->error . "</p>";
    }
}
?>